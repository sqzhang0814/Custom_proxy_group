######## 1. è®¢é˜…æ‹†åˆ† â€”â€” proxy-providers ########
proxy-providers:
  IPCL:
    type: http
    url: "https://mysub.cc/subscribe/1349/eZuZhFy1ZD/clash/"
    interval: 7200                # æ¯ 2 å°æ—¶è‡ªåŠ¨æ›´æ–°
    path: ./providers/ipcl.yaml
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

  IMM:
    type: http
    url: "https://api.immtel.co/?L1N1YnNjcmlwdGlvbi9DbGFzaD90Zm89MSZ0PTIwMjImc2lkPTIxMjg4JnRva2VuPU9wWThzdnhxTkIzJm1tPTMxMzc0JjRiM2E1ZDk4YzM2MTQ1NmY5ZDA0YjA2NTM1"
    interval: 7200
    path: ./providers/imm.yaml
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

######## 2. åˆ†æœºåœºåˆ†åœ°åŒº â€”â€” url-test ç»„ ########
proxy-groups:
  ## â€”â€” IPCL â€”â€” ##
  - {name: "ğŸ‡­ğŸ‡° IPCL-HK", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)é¦™æ¸¯|HK",   use: [IPCL]}
  - {name: "ğŸ‡¹ğŸ‡¼ IPCL-TW", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)å°æ¹¾|TW",   use: [IPCL]}
  - {name: "ğŸ‡¸ğŸ‡¬ IPCL-SG", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)æ–°åŠ å¡|SG", use: [IPCL]}
  - {name: "ğŸ‡¯ğŸ‡µ IPCL-JP", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)æ—¥æœ¬|JP",   use: [IPCL]}
  - {name: "ğŸ‡ºğŸ‡¸ IPCL-US", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)ç¾å›½|US",   use: [IPCL]}
  - {name: "ğŸ‡°ğŸ‡· IPCL-KR", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)éŸ©å›½|KR",   use: [IPCL]}

  ## â€”â€” IMM â€”â€” ##
  - {name: "ğŸ‡­ğŸ‡° IMM-HK", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)HKG", use: [IMM]}
  - {name: "ğŸ‡¹ğŸ‡¼ IMM-TW", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)TWN", use: [IMM]}
  - {name: "ğŸ‡¸ğŸ‡¬ IMM-SG", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)SGP", use: [IMM]}
  - {name: "ğŸ‡¯ğŸ‡µ IMM-JP", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)JPN", use: [IMM]}
  - {name: "ğŸ‡ºğŸ‡¸ IMM-US", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)USA", use: [IMM]}
  - {name: "ğŸ‡°ğŸ‡· IMM-KR", type: url-test, url: http://www.gstatic.com/generate_204,
     interval: 300, tolerance: 50, filter: "(?i)KOR", use: [IMM]}

######## 3. åˆå¹¶ç­–ç•¥ï¼ˆå¯é€‰ï¼‰ ########
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-AUTO"       # å»¶è¿Ÿæœ€ä½³é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 120
    tolerance: 50
    proxies:
      - ğŸ‡­ğŸ‡° IPCL-HK
      - ğŸ‡­ğŸ‡° IMM-HK

  - name: "Smart-HK-Weight"    # Smart + æƒé‡ç¤ºä¾‹
    type: smart
    policy-priority: "IPCL:1.2;IMM:0.8" # IPCL æƒé‡ â†‘, IMM â†“
    filter: "(?i)é¦™æ¸¯|HKG|HK"
    use:
      - IPCL
      - IMM
